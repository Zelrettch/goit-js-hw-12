import{i as m,a as p,S as g}from"./assets/vendor-BDaiwwc1.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const y=document.querySelector(".loader"),u=document.querySelector(".load-btn"),L=document.querySelector(".gallery");function b(e,n){const o=e.map(r=>E(r));n.append(...o)}function E(e){const n=document.createElement("img"),o=document.createElement("div"),r=document.createElement("a"),t=document.createElement("li");t.classList.add("card"),o.classList.add("stats"),r.href=e.largeImageURL;const s=w(n,e);return o.append(...v(e)),r.append(s,o),t.append(r),t}function w(e,n){const o=document.createElement("div");return o.classList.add("thumb"),e.src=n.webformatURL,e.alt=n.tags,o.append(e),o}function v(e){return["likes","views","comments","downloads"].map(n=>{const o=document.createElement("div"),r=document.createElement("span"),t=document.createElement("span");return o.classList.add("field"),r.classList.add("label"),t.classList.add("value"),r.textContent=n,t.textContent=e[n],o.append(r,t),o})}function l(e,n="red"){m.show({transitionIn:"fadeInDown",position:"topRight",color:n,message:e})}function d(){y.classList.toggle("is-hidden")}function S(){u.classList.remove("is-hidden")}function q(){u.classList.add("is-hidden")}function P(){L.innerHTML=""}const x="47493519-a1c562378b8b6eff6e1575382";async function _(e,n){return await p.get("https://pixabay.com/api",{params:{key:x,q:e,image_type:"photo",orientation:"horizontal",safesearch:"true",page:n,per_page:15}})}const A=document.querySelector(".load-btn"),f=document.querySelector(".search-form"),i=document.querySelector(".gallery"),I=new g(".gallery a"),G="Sorry, there are no images matching your search query. Please try again!",M="We're sorry, but you've reached the end of search results.",N=15,a={setQuery(e){this.query=e,this.page=1,this.hasNext=!0},async fetchPage(){const e=(await _(this.query,this.page)).data;return Math.ceil(e.total/N)<=this.page&&(this.hasNext=!1),this.page++,e}};function B(e){e.hits.length||l(G),b(e.hits,i),I.refresh()}async function h(){d(),q();try{const e=await a.fetchPage();B(e)}catch(e){l(e.message),console.log(e.stack)}finally{d(),a.hasNext&&S()}}function C(e){e.preventDefault();const n=f.elements.input.value.trim();n.length&&(a.setQuery(n),P(),h())}async function O(e){const n=i.childElementCount;await h(),a.hasNext||l(M,"blue");const o=i.children[n-1].getBoundingClientRect().height;R(o*2)}function R(e){window.scrollTo({top:e+window.scrollY,left:0,behavior:"smooth"})}f.addEventListener("submit",C);A.addEventListener("click",O);
//# sourceMappingURL=index.js.map
